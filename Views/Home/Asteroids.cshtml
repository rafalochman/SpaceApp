@{
    ViewData["Title"] = "Asteroids";
}
@model IEnumerable<SpaceApp.Models.Asteroid>

<h1 class="display-4">@ViewData["Title"] which miss Earth today</h1>
<h5> @Model.FirstOrDefault().Date</h5>

<div id="asteroidsContainer">
    <div id="asteroidsTitle">
        <h3>
            Near-Earth objects - NEOs
        </h3>
        <p>NEOs are asteroids and comets whose orbit brings them into Earth’s neighborhood – their closest approach to the Sun is less than 1.3 astronomical units (200 million kilometers).</p>
    </div>
    <div class="asteroidsNumber">
        Number of asteroids today: <span>@Model.Count()</span>
    </div>
    <div class="asteroidsNumber">
        Number of hazardous asteroids today: <span>@Model.Count(x => x.Hazardous == "Yes")</span>
    </div>

    <div id="threeAsteroidsContainer">
        @foreach (var item in Model.Take(4))
        {
            <div class="astContainer">
                <div id="astContainerTitle">@Html.DisplayFor(modelItem => item.Name)</div><br />Size: @(Decimal.ToInt32((item.EstimatedDiameterMin + item.EstimatedDiameterMax)/2))  m
                <hr>
                Miss distance:<br />@Html.DisplayFor(modelItem => item.MissDistance) km<br />
                @if (item.Hazardous == "No")
                 {
                    <p>Non-threatening</p>
                 }
                 else
                 {
                    <p>Hazardous</p>
                 }
            </div>
        }

    </div>

</div>
<small class="text-muted" id="jpl">Courtesy NASA/JPL-Caltech.</small>

<div id="asteroidsTable" class="scrollDiv">
    <table class="table table-hover">
        <tr>
            <th>
                Name
            </th>
            <th>
                Min Estimated Diameter
            </th>
            <th>
                Max Estimated Diameter
            </th>
            <th>
                Hazardous
            </th>
            <th>
                Relative velocity
            </th>
            <th>
                Miss distance
            </th>
            <th>
                Time
            </th>
            <th></th>
        </tr>

        @foreach (var item in Model)
        {
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.Name)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.EstimatedDiameterMin) m
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.EstimatedDiameterMax) m
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Hazardous)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.RelativeVelocity) km/s
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.MissDistance) km
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Time)
                </td>
                <td>
                    @Html.ActionLink("History", "History", new { id = item.Id }, new { @class = "btn-sm btn-secondary" })
                </td>
            </tr>
        }

    </table>
</div>